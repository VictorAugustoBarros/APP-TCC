import{_,aG as v,n as l,B as g,y as s,aH as f,z as d,C as c,w as n,aI as a,k as u,x as m,aJ as y,O as p}from"./index.d55d2dc8.js";import{a as w,A as M}from"./users.bc065d69.js";import{j as h}from"./VBtn.9bb2eadf.js";import"./userStore.c3d2e3a8.js";const x={name:"LoginPage",data(){return{register:{name:"",username:"",email:"",password:"",errorMessage:"",successMessage:""},login:{email:"",password:"",errorMessage:"",successMessage:""}}},methods:{async submitLogin(){if(this.login.email===""||this.login.password===""){this.login.errorMessage="Preencha todos os campos.";return}const i=await v({email:this.login.email,password:this.login.password});i.success?(this.login.errorMessage=null,await w(),this.$router.push({path:"/feed"})):this.login.errorMessage=i.error},async registerUser(){if(this.register.name===""||this.register.email===""||this.register.username===""||this.register.password===""){this.register.errorMessage="Preencha todos os campos.";return}const i={name:this.register.name,email:this.register.email,password:this.register.password,username:this.register.username};let e=await M(i);e.success?(this.register.successMessage="Usu\xE1rio cadastrado com sucesso!",this.register.errorMessage=null,this.signIn()):(this.register.successMessage=null,this.register.errorMessage=e.error)},signUp(){document.getElementById("container").classList.add("right-panel-active")},signIn(){document.getElementById("container").classList.remove("right-panel-active")}}},U={id:"body"},V={class:"container",id:"container"},k={class:"form-container sign-up-container"},L=s("h1",{class:"h1"},"Registrar",-1),B={key:0,class:"success-text"},C={key:1,class:"error-text"},R={class:"form-container sign-in-container"},E={class:"form",action:"#"},I=s("h1",{class:"h1"},"Login",-1),b={key:0,class:"success-text"},N={key:1,class:"error-text"},P=s("a",{class:"a",href:"#"},"Forgot your password?",-1),S={class:"overlay-container"},z={class:"overlay"},A={class:"overlay-panel overlay-left"},D=s("h1",{class:"h1"},"Ol\xE1, Amigo!",-1),F=s("p",{class:"p"}," Introduza os seus dados pessoais e comece a evoluir com n\xF3s ",-1),q={class:"overlay-panel overlay-right"},G=s("h1",{class:"h1"},"Bem Vindo!",-1),O=s("p",{class:"p"}," Para se manter conectado conosco, fa\xE7a o login com suas informa\xE7\xF5es pessoais ",-1);function T(i,e,j,H,r,o){return l(),g("div",U,[s("div",V,[s("div",k,[s("form",{class:"register-form",onSubmit:e[5]||(e[5]=f((...t)=>o.registerUser&&o.registerUser(...t),["prevent"]))},[L,r.register.successMessage?(l(),g("span",B,d(r.register.successMessage),1)):c("",!0),r.register.errorMessage?(l(),g("span",C,d(r.register.errorMessage),1)):c("",!0),n(s("input",{type:"text",class:"input",id:"nomeRegister","onUpdate:modelValue":e[0]||(e[0]=t=>r.register.name=t),placeholder:"Nome"},null,512),[[a,r.register.name]]),n(s("input",{class:"input",id:"usernameRegister","onUpdate:modelValue":e[1]||(e[1]=t=>r.register.username=t),placeholder:"Username"},null,512),[[a,r.register.username]]),n(s("input",{class:"input",type:"email",id:"emailRegister","onUpdate:modelValue":e[2]||(e[2]=t=>r.register.email=t),placeholder:"Email"},null,512),[[a,r.register.email]]),n(s("input",{class:"input",type:"password",id:"passwordRegister","onUpdate:modelValue":e[3]||(e[3]=t=>r.register.password=t),placeholder:"Senha"},null,512),[[a,r.register.password]]),u(h,{rounded:"",variant:"text",onClick:e[4]||(e[4]=t=>o.registerUser())},{default:m(()=>[p(" Registrar ")]),_:1})],32)]),s("div",R,[s("form",E,[I,r.login.successMessage?(l(),g("span",b,d(r.login.successMessage),1)):c("",!0),r.login.errorMessage?(l(),g("span",N,d(r.login.errorMessage),1)):c("",!0),n(s("input",{class:y(["input",{"error-border":r.login.email===""}]),id:"emailForm","onUpdate:modelValue":e[6]||(e[6]=t=>r.login.email=t),type:"email",placeholder:"Email",required:""},null,2),[[a,r.login.email,void 0,{trim:!0}]]),n(s("input",{class:"input",id:"passwordForm","onUpdate:modelValue":e[7]||(e[7]=t=>r.login.password=t),type:"password",placeholder:"Senha",required:""},null,512),[[a,r.login.password,void 0,{trim:!0}]]),P,u(h,{rounded:"",variant:"text",onClick:e[8]||(e[8]=t=>o.submitLogin())},{default:m(()=>[p(" Entrar ")]),_:1})])]),s("div",S,[s("div",z,[s("div",A,[D,F,u(h,{rounded:"",variant:"text",onClick:e[9]||(e[9]=t=>o.signIn())},{default:m(()=>[p(" Entrar ")]),_:1})]),s("div",q,[G,O,u(h,{rounded:"",class:"ghost",variant:"text",onClick:e[10]||(e[10]=t=>o.signUp())},{default:m(()=>[p(" Registrar ")]),_:1})])])])])])}const X=_(x,[["render",T]]);export{X as default};
