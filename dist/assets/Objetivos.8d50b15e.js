import{D as w,C as y,a as M,b as I,V as N,c as F,L as P}from"./VTextarea.9cab0592.js";import{u as C}from"./userStore.c3d2e3a8.js";import{_ as O,A as v,n as c,q as D,x as o,k as e,l as L,O as _,y as d,w as V,aK as k,C as x,B as p,D as B,F as E}from"./index.d55d2dc8.js";import{j as g}from"./VBtn.9bb2eadf.js";import{a as T,b as S,c as z}from"./VCard.752f3f50.js";import{a as s,c as U}from"./VRow.abd81b15.js";import{V as i,a as j}from"./VCol.d48916d9.js";const K={name:"ModalObjetivos",components:{DatePicker:w,CardObjetivo:y,CooperativeUsers:M},data(){return{user:C().getUser,hasCriterios:C().getHasCriterios,objetivo:{titulo:"",categoria:"",imagem:"",descricao:"",data_fim:""},checkedIndividual:!0,checkedCooperativo:!1,dialog:!1,isHovered:!1,btnCooperativoEnable:!1,modalUsersDisable:!0}},methods:{cancelar(){this.dialog=!1},handleCheckboxChange(r){r==="individual"&&this.checkedIndividual?(this.checkedCooperativo=!1,this.modalUsersDisable=!0):r==="cooperativo"&&this.checkedCooperativo&&(this.checkedIndividual=!1,this.hasCriterios?this.modalUsersDisable=!1:(alert("Favor configurar os Crit\xE9rios!"),this.btnCooperativoEnable=!0,this.checkedIndividual=!0,this.checkedCooperativo=!1))},async salvar(){if(!this.objetivo.titulo||!this.objetivo.categoria||!this.objetivo.imagem||!this.objetivo.descricao||!this.objetivo.data_fim){alert("Favor inserir todos os dados!");return}const r=new Date;if(new Date(this.objetivo.data_fim)<r){alert("Escolher uma data final maior que hoje!");return}const f=JSON.parse(JSON.stringify(this.objetivo)),m=await I(f);if(!m){alert(m.error);return}this.$emit("modal-fechado"),this.dialog=!1}}},q={style:{padding:"30px"}},A=d("span",{class:"text-h5"},"Novo Objetivo",-1),H=d("label",{for:"checkedIndividual"},"Individual",-1),J=d("br",null,null,-1),R=d("label",{for:"checkedCooperativo"},"Cooperativo",-1),G=d("br",null,null,-1),Q=["disabled"];function W(r,t,f,m,l,u){const b=v("DatePicker"),h=v("CooperativeUsers"),n=v("CardObjetivo");return c(),D(s,{justify:"center"},{default:o(()=>[e(F,{modelValue:l.dialog,"onUpdate:modelValue":t[10]||(t[10]=a=>l.dialog=a),persistent:"",width:"1200"},{activator:o(({props:a})=>[e(g,L({rounded:"xl",size:"large"},a),{default:o(()=>[_("+ Novo Objetivo")]),_:2},1040)]),default:o(()=>[e(T,{style:{"border-radius":"30px"}},{default:o(()=>[d("div",q,[e(S,null,{default:o(()=>[e(s,null,{default:o(()=>[e(i,{cols:"9",class:"text-center"},{default:o(()=>[A]),_:1}),e(i,{cols:"3"})]),_:1})]),_:1}),e(U,null,{default:o(()=>[e(s,null,{default:o(()=>[e(i,{cols:"8"},{default:o(()=>[e(s,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(j,{modelValue:l.objetivo.titulo,"onUpdate:modelValue":t[0]||(t[0]=a=>l.objetivo.titulo=a),label:"Titulo",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(i,{cols:"6"},{default:o(()=>[e(j,{modelValue:l.objetivo.categoria,"onUpdate:modelValue":t[1]||(t[1]=a=>l.objetivo.categoria=a),label:"Categoria",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(i,{cols:"6"},{default:o(()=>[e(b,{labelName:"Data Fim",modelValue:l.objetivo.data_fim,"onUpdate:modelValue":t[2]||(t[2]=a=>l.objetivo.data_fim=a)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(j,{modelValue:l.objetivo.imagem,"onUpdate:modelValue":t[3]||(t[3]=a=>l.objetivo.imagem=a),label:"Link Imagem",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"text-center"},{default:o(()=>[e(i,{cols:"6"},{default:o(()=>[H,J,V(d("input",{type:"checkbox",id:"checkedIndividual","onUpdate:modelValue":t[4]||(t[4]=a=>l.checkedIndividual=a),onChange:t[5]||(t[5]=a=>u.handleCheckboxChange("individual"))},null,544),[[k,l.checkedIndividual]])]),_:1}),e(i,{cols:"6"},{default:o(()=>[R,G,V(d("input",{type:"checkbox",id:"checkedCooperativo","onUpdate:modelValue":t[6]||(t[6]=a=>l.checkedCooperativo=a),disabled:this.btnCooperativoEnable,onChange:t[7]||(t[7]=a=>u.handleCheckboxChange("cooperativo"))},null,40,Q),[[k,l.checkedCooperativo]])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(h,{modelValue:l.modalUsersDisable,"onUpdate:modelValue":t[8]||(t[8]=a=>l.modalUsersDisable=a),disableDialog:l.modalUsersDisable},null,8,["modelValue","disableDialog"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(i,{cols:"12"},{default:o(()=>[e(N,{modelValue:l.objetivo.descricao,"onUpdate:modelValue":t[9]||(t[9]=a=>l.objetivo.descricao=a),style:{rezise:"none"},rows:"5",label:"Descri\xE7\xE3o",variant:"outlined",maxlength:100},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(i,{cols:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(n,{title:this.objetivo.titulo,categoria:this.objetivo.categoria,descricao:this.objetivo.descricao,image:this.objetivo.imagem,detalhes:!1},null,8,["title","categoria","descricao","image"])]),_:1})]),_:1})]),_:1}),e(z,null,{default:o(()=>[e(g,{class:"flex-grow-1",variant:"tonal",onClick:u.cancelar},{default:o(()=>[_("Fechar ")]),_:1},8,["onClick"]),e(g,{class:"flex-grow-1",style:{"background-color":"#005b96",color:"white"},variant:"tonal",onClick:u.salvar},{default:o(()=>[_("Salvar ")]),_:1},8,["onClick"])]),_:1})])]),_:1})]),_:1},8,["modelValue"])]),_:1})}const X=O(K,[["render",W]]);const Y={name:"ObjetivoPage",components:{CardObjetivo:y,ModalObjetivos:X},data:function(){return{objetivos:[],mostrarModalNovoObjetivo:!1,loadPage:!1}},beforeMount(){this.LoadUserObjetivos()},methods:{async LoadUserObjetivos(){const r=await P();r.error||(this.objetivos=r),this.loadPage=!0},recarregarComponente(){this.LoadUserObjetivos()},exibirModal(){this.mostrarModalNovoObjetivo=!0}}},Z={key:0},$=d("h1",null,"Infelizmente voc\xEA n\xE3o posssui nenhum objetivo!",-1),ee=d("h2",null,"Crie um novo objetivo e boa sorte!",-1);function oe(r,t,f,m,l,u){const b=v("ModalObjetivos"),h=v("CardObjetivo");return r.loadPage?(c(),D(U,{key:0},{default:o(()=>[e(s,null,{default:o(()=>[e(i,{cols:"10"}),e(i,{cols:"2"},{default:o(()=>[e(b,{onModalFechado:u.recarregarComponente},null,8,["onModalFechado"])]),_:1})]),_:1}),this.objetivos.length===0?(c(),p("div",Z,[e(s,{style:{height:"30vh"}}),e(s,{justify:"center",class:"full-height"},{default:o(()=>[$]),_:1}),e(s,{justify:"center",class:"full-height"},{default:o(()=>[ee]),_:1})])):x("",!0),e(s,null,{default:o(()=>[(c(!0),p(E,null,B(this.objetivos,n=>(c(),p("div",{class:"div-cards",key:n.id,style:{padding:"15px"}},[e(h,{objetivoKey:n.key,title:n.titulo,categoria:n.categoria,descricao:n.descricao,image:n.imagem},null,8,["objetivoKey","title","categoria","descricao","image"])]))),128))]),_:1})]),_:1})):x("",!0)}const ne=O(Y,[["render",oe]]);export{ne as default};
