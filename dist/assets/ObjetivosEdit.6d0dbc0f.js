import{C as V,a as _,D,g as x,E as U,V as y}from"./VTextarea.9cab0592.js";import{u as b}from"./userStore.c3d2e3a8.js";import{_ as O,A as u,n as w,q as E,x as o,C as I,k as e,w as m,aK as h,y as d,O as f}from"./index.d55d2dc8.js";import{c as F,a as s}from"./VRow.abd81b15.js";import{V as a,a as c}from"./VCol.d48916d9.js";import{c as N}from"./VCard.752f3f50.js";import{j as p}from"./VBtn.9bb2eadf.js";const q={name:"ObjetivosEdit",components:{CardObjetivo:V,CooperativeUsers:_,DatePicker:D},data(){return{user:b().getUser,hasCriterios:b().getHasCriterios,load:!1,objetivo:{},modalUsersDisable:!0,btnCooperativoEnable:!1,checkedIndividual:!0,checkedCooperativo:!1}},async beforeMount(){const r=await x(this.$route.query.objetivoKey);r.error?this.$router.push({path:"/objetivos"}):this.objetivo=r,this.load=!0},methods:{voltarObjetivos(){this.$router.push({path:"/objetivos"})},async editarObjetivo(){if(!this.objetivo.titulo||!this.objetivo.categoria||!this.objetivo.imagem||!this.objetivo.descricao||!this.objetivo.dataFim){alert("Favor inserir todos os dados!");return}const r=new Date;if(new Date(this.objetivo.dataFim)<r){alert("Escolher uma data final maior que hoje!");return}const v=this.objetivo;this.objetivo.key=this.$route.query.objetivoKey,(await U(v)).error||this.$router.push({path:"/objetivos"})},handleCheckboxChange(r){r==="individual"&&this.checkedIndividual?(this.checkedCooperativo=!1,this.modalUsersDisable=!0):r==="cooperativo"&&this.checkedCooperativo&&(this.checkedIndividual=!1,this.hasCriterios?this.modalUsersDisable=!1:(alert("Configure os crit\xE9rios"),this.checkedCooperativo=!1,this.checkedIndividual=!0,this.btnCooperativoEnable=!0))}}},B=d("h1",null,"Editar Objetivo",-1),T=d("label",{for:"checkedIndividual"},"Individual",-1),K=d("br",null,null,-1),P=d("label",{for:"checkedCooperativo"},"Cooperativo",-1),A=d("br",null,null,-1),M=["disabled"];function z(r,t,v,j,l,n){const C=u("DatePicker"),k=u("CooperativeUsers"),g=u("CardObjetivo");return l.load?(w(),E(F,{key:0},{default:o(()=>[e(s,{style:{"text-align":"center"}},{default:o(()=>[e(a,{cols:"12"},{default:o(()=>[B]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"8"},{default:o(()=>[e(s,null,{default:o(()=>[e(a,{cols:"12"},{default:o(()=>[e(c,{modelValue:l.objetivo.titulo,"onUpdate:modelValue":t[0]||(t[0]=i=>l.objetivo.titulo=i),label:"Titulo",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"6"},{default:o(()=>[e(c,{modelValue:l.objetivo.categoria,"onUpdate:modelValue":t[1]||(t[1]=i=>l.objetivo.categoria=i),label:"Categoria",variant:"outlined"},null,8,["modelValue"])]),_:1}),e(a,{cols:"6"},{default:o(()=>[e(C,{labelName:"Data Fim",modelValue:l.objetivo.dataFim,"onUpdate:modelValue":t[2]||(t[2]=i=>l.objetivo.dataFim=i)},null,8,["modelValue"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"12"},{default:o(()=>[e(c,{modelValue:l.objetivo.imagem,"onUpdate:modelValue":t[3]||(t[3]=i=>l.objetivo.imagem=i),label:"Link Imagem",variant:"outlined"},null,8,["modelValue"])]),_:1})]),_:1}),e(s,{class:"text-center"},{default:o(()=>[e(a,{cols:"6"},{default:o(()=>[T,K,m(d("input",{type:"checkbox",id:"checkedIndividual","onUpdate:modelValue":t[4]||(t[4]=i=>l.checkedIndividual=i),onChange:t[5]||(t[5]=i=>n.handleCheckboxChange("individual"))},null,544),[[h,l.checkedIndividual]])]),_:1}),e(a,{cols:"6"},{default:o(()=>[P,A,m(d("input",{type:"checkbox",id:"checkedCooperativo","onUpdate:modelValue":t[6]||(t[6]=i=>l.checkedCooperativo=i),disabled:this.btnCooperativoEnable,onChange:t[7]||(t[7]=i=>n.handleCheckboxChange("cooperativo"))},null,40,M),[[h,l.checkedCooperativo]])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"12"},{default:o(()=>[e(k,{modelValue:l.modalUsersDisable,"onUpdate:modelValue":t[8]||(t[8]=i=>l.modalUsersDisable=i),disableDialog:l.modalUsersDisable},null,8,["modelValue","disableDialog"])]),_:1})]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"12"},{default:o(()=>[e(y,{modelValue:l.objetivo.descricao,"onUpdate:modelValue":t[9]||(t[9]=i=>l.objetivo.descricao=i),style:{rezise:"none"},rows:"5",label:"Descri\xE7\xE3o",variant:"outlined",maxlength:100},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(a,{cols:"4",class:"d-flex align-center justify-center"},{default:o(()=>[e(g,{title:this.objetivo.titulo,categoria:this.objetivo.categoria,descricao:this.objetivo.descricao,image:this.objetivo.imagem,detalhes:!1},null,8,["title","categoria","descricao","image"])]),_:1}),e(s,null,{default:o(()=>[e(a,{cols:"3"}),e(a,{cols:"6"},{default:o(()=>[e(N,null,{default:o(()=>[e(p,{class:"flex-grow-1",variant:"tonal",onClick:n.voltarObjetivos},{default:o(()=>[f("Voltar ")]),_:1},8,["onClick"]),e(p,{class:"flex-grow-1",style:{"background-color":"#005b96",color:"white"},variant:"tonal",onClick:n.editarObjetivo},{default:o(()=>[f("Editar ")]),_:1},8,["onClick"])]),_:1})]),_:1}),e(a,{cols:"3"})]),_:1})]),_:1})]),_:1})):I("",!0)}const W=O(q,[["render",z]]);export{W as default};
